<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Generator RPP MI — Stabil</title>
<style>
  :root{ --ink:#0f172a; --muted:#475569; --accent:#16a34a; --bg:#f8fafc; --line:#e5e7eb; }
  *{ box-sizing:border-box; } body{ margin:0; font-family:Segoe UI,system-ui,-apple-system,Roboto,"Noto Sans",Arial; color:var(--ink); background:var(--bg);}
  .wrap{ max-width:1200px; margin:24px auto; padding:0 16px; }
  .grid{ display:grid; gap:16px; grid-template-columns:1fr; } @media(min-width:1100px){ .grid{ grid-template-columns:1fr 1fr; } }
  .card{ background:#fff; border:1px solid var(--line); border-radius:14px; padding:16px; }
  h1{ margin:0 0 8px; font-size:22px;} h2{ margin:14px 0 10px; font-size:18px; color:#065f46;}
  label{ font-size:13px; color:#334155; display:block; margin-bottom:6px; }
  input,textarea{ width:100%; border:1px solid #cbd5e1; border-radius:10px; padding:10px 12px; font-size:14px; background:#fff; }
  textarea{ min-height:90px; resize:vertical; } .row{ display:grid; gap:10px; grid-template-columns:1fr 1fr; }
  .btns{ display:flex; gap:10px; flex-wrap:wrap; margin-top:12px; }
  button{ background:var(--accent); color:#fff; border:none; padding:10px 14px; border-radius:999px; cursor:pointer; }
  button.secondary{ background:#0f172a; opacity:.9; } button.outline{ background:#fff; color:#0f172a; border:1px solid #cbd5e1; }
  .out{ background:#fff; border:1px dashed #cbd5e1; border-radius:12px; padding:16px; min-height:200px; }
  .muted{ color:#64748b; font-size:12px; }
  @media print{ .noprint{ display:none !important; } .printpage{ border:none; box-shadow:none; } }
  .rpp{ color:#000; font-size:12.5pt; line-height:1.45; } .rpp h3{ margin:0; text-align:center; font-size:14.5pt; }
  .subtle{ color:#334155; } .sec-title{ font-weight:700; margin:14px 0 6px; }
  .tbl{ width:100%; border-collapse:collapse; } .tbl td,.tbl th{ border:1px solid #94a3b8; padding:6px 8px; vertical-align:top; }
  .tbl.kv td:nth-child(1){ width:220px; background:#f1f5f9; font-weight:600; }
  .sig-grid{ width:100%; display:grid; grid-template-columns:1fr 1fr; gap:18px; margin-top:16px; }
  .tac{ text-align:center; } .mb8{ margin-bottom:8px; } .mb12{ margin-bottom:12px;}
  .ul{ margin:6px 0 6px 18px; } .roman{ list-style:lower-alpha; margin-left:22px; }
</style>
</head>
<body>
<div class="wrap">
  <div class="noprint" style="margin-bottom:8px;">
    <h1>Generator RPP (MI) — Stabil</h1>
    <div class="muted">Isi formulir → klik <b>Buat RPP</b> → <b>Cetak/PDF</b> atau <b>Salin</b>.</div>
  </div>

  <div class="grid noprint">
    <div class="card">
      <h2>Identitas</h2>
      <div class="row">
        <div><label>Nama Madrasah</label><input id="madrasah" /></div>
        <div><label>Tahun Pelajaran</label><input id="tahun" placeholder="2025/2026" /></div>
      </div>
      <div class="row">
        <div><label>Nama Guru</label><input id="guru" /></div>
        <div><label>NIP Guru</label><input id="nipGuru" /></div>
      </div>
      <div class="row">
        <div><label>Mata Pelajaran</label><input id="mapel" /></div>
        <div><label>Materi Pokok</label><input id="materiPokok" /></div>
      </div>
      <div class="row">
        <div><label>Kelas / Semester</label><input id="kelas" /></div>
        <div><label>Alokasi Waktu</label><input id="alokasi" placeholder="2 x 35 menit" /></div>
      </div>
      <div><label>Model Pedagogis</label><input id="model" placeholder="PBL / PJBL / dll." /></div>

      <h2>Identifikasi</h2>
      <label>Kesiapan Murid</label><textarea id="kesiapan"></textarea>
      <label>DPL</label><textarea id="dpl"></textarea>
      <label>KBC — Topik</label><textarea id="kbcTopik"></textarea>
      <label>KBC — Insersi</label><textarea id="kbcInsersi"></textarea>

      <h2>Desain Pembelajaran</h2>
      <label>CP</label><textarea id="cp"></textarea>
      <label>Lintas Disiplin</label><textarea id="lintas"></textarea>
      <label>TP</label><textarea id="tp"></textarea>
      <label>Praktik Pedagogis</label><textarea id="praktik"></textarea>
      <label>Kemitraan</label><textarea id="kemitraan"></textarea>
      <label>Lingkungan</label><textarea id="lingkungan"></textarea>
      <label>Pemanfaatan Digital</label><textarea id="digital"></textarea>

      <h2>Pengalaman Belajar</h2>
      <div class="row">
        <div><label>Pertemuan Ke-</label><input id="pertemuan" type="number" min="1" placeholder="1" /></div>
        <div><label>Tanggal (opsional)</label><input id="tanggal" type="date" /></div>
      </div>
      <label>Kegiatan Awal</label><textarea id="awal"></textarea>
      <label>Inti — Memahami</label><textarea id="memahami"></textarea>
      <label>Inti — Mengaplikasi</label><textarea id="mengaplikasi"></textarea>
      <label>Inti — Merefleksi</label><textarea id="merefleksi"></textarea>
      <label>Kegiatan Penutup</label><textarea id="penutup"></textarea>

      <h2>Asesmen</h2>
      <label>Awal</label><textarea id="asesmenAwal"></textarea>
      <label>Proses</label><textarea id="asesmenProses"></textarea>
      <label>Akhir</label><textarea id="asesmenAkhir"></textarea>

      <h2>Penandatangan</h2>
      <div class="row">
        <div><label>Lokasi</label><input id="lokasi" /></div>
        <div><label>Tanggal Dokumen</label><input id="tglDoc" type="date" /></div>
      </div>
      <div class="row">
        <div><label>Kepala Madrasah</label><input id="kepsek" /></div>
        <div><label>NIP Kepsek</label><input id="nipKepsek" /></div>
      </div>

      <div class="btns">
        <button onclick="generate()">Buat RPP</button>
        <button class="secondary" onclick="copyOut()">Salin (teks)</button>
        <button class="outline" onclick="window.print()">Cetak / PDF</button>
      </div>
    </div>

    <div class="card printpage">
      <h2 class="noprint">Pratinjau RPP</h2>
      <div id="output" class="out">(RPP akan muncul di sini setelah klik “Buat RPP”)</div>
    </div>
  </div>
</div>

<template id="tpl">
  <div class="rpp">
    <h3>PERENCANAAN PEMBELAJARAN (RPP)<br/><span class="subtle">Madrasah Ibtidaiyah</span></h3>
    <div class="mb12 tac subtle">Materi Pokok: <b>{{materiPokok}}</b></div>

    <div class="sec-title">A. IDENTITAS</div>
    <table class="tbl kv mb12">
      <tr><td>Nama Madrasah</td><td>{{madrasah}}</td></tr>
      <tr><td>Nama Guru</td><td>{{guru}}</td></tr>
      <tr><td>Mata Pelajaran</td><td>{{mapel}}</td></tr>
      <tr><td>Materi Pokok</td><td>{{materiPokok}}</td></tr>
      <tr><td>Kelas / Semester</td><td>{{kelas}}</td></tr>
      <tr><td>Alokasi Waktu</td><td>{{alokasi}}</td></tr>
      <tr><td>Tahun Pelajaran</td><td>{{tahun}}</td></tr>
      <tr><td>Model Pedagogis</td><td>{{model}}</td></tr>
    </table>

    <div class="sec-title">B. IDENTIFIKASI</div>
    <ol class="ul mb12" style="list-style:decimal;">
      <li><b>Kesiapan Murid</b><br/>{{kesiapan}}</li>
      <li><b>DPL</b><br/>{{dpl}}</li>
      <li><b>Topik KBC</b><br/>{{kbcTopik}}</li>
      <li><b>Materi Insersi KBC</b><br/>{{kbcInsersi}}</li>
    </ol>

    <div class="sec-title">C. DESAIN</div>
    <ol class="ul mb12" style="list-style:decimal;">
      <li><b>CP</b><br/>{{cp}}</li>
      <li><b>Lintas Disiplin</b><br/>{{lintas}}</li>
      <li><b>TP</b><br/>{{tp}}</li>
      <li><b>Praktik Pedagogis</b><br/>{{praktik}}</li>
      <li><b>Kemitraan</b><br/>{{kemitraan}}</li>
      <li><b>Lingkungan</b><br/>{{lingkungan}}</li>
      <li><b>Pemanfaatan Digital</b><br/>{{digital}}</li>
    </ol>

    <div class="sec-title">D. PENGALAMAN BELAJAR</div>
    <div class="mb8"><b>Pertemuan Ke-{{pertemuan}}</b>{{tanggalStr}}</div>
    <ol class="ul mb12" style="list-style:decimal;">
      <li><b>Kegiatan Awal</b><br/>{{awal}}</li>
      <li><b>Kegiatan Inti</b>
        <ol class="roman">
          <li><b>Memahami</b><br/>{{memahami}}</li>
          <li><b>Mengaplikasi</b><br/>{{mengaplikasi}}</li>
          <li><b>Merefleksi</b><br/>{{merefleksi}}</li>
        </ol>
      </li>
      <li><b>Kegiatan Penutup</b><br/>{{penutup}}</li>
    </ol>

    <div class="sec-title">E. ASESMEN</div>
    <ol class="ul mb12" style="list-style:decimal;">
      <li><b>Awal</b><br/>{{asesmenAwal}}</li>
      <li><b>Proses</b><br/>{{asesmenProses}}</li>
      <li><b>Akhir</b><br/>{{asesmenAkhir}}</li>
    </ol>

    <div class="sec-title">PENGESAHAN</div>
    <div class="sig-grid">
      <div class="tac"><div class="mb8">Mengetahui<br/><b>Kepala Madrasah</b></div><div style="height:80px;"></div><div><b>{{kepsek}}</b><br/>NIP. {{nipKepsek}}</div></div>
      <div class="tac"><div class="mb8">{{lokasi}}, {{tglDocStr}}<br/><b>Guru Kelas/Mapel</b></div><div style="height:80px;"></div><div><b>{{guru}}</b><br/>NIP. {{nipGuru}}</div></div>
    </div>
  </div>
</template>

<script>
  const $ = id => document.getElementById(id); const val = id => ($(id)?.value||'').trim();
  function generate(){
    const d = {
      madrasah: val('madrasah')||'-', tahun: val('tahun')||'-', guru: val('guru')||'-', nipGuru: val('nipGuru')||'....................',
      mapel: val('mapel')||'-', materiPokok: val('materiPokok')||'-', kelas: val('kelas')||'-', alokasi: val('alokasi')||'-', model: val('model')||'-',
      kesiapan: val('kesiapan')||'(lengkapi)', dpl: val('dpl')||'(lengkapi)', kbcTopik: val('kbcTopik')||'(lengkapi)', kbcInsersi: val('kbcInsersi')||'(lengkapi)',
      cp: val('cp')||'(lengkapi)', lintas: val('lintas')||'(lengkapi)', tp: val('tp')||'(lengkapi)', praktik: val('praktik')||'(lengkapi)', kemitraan: val('kemitraan')||'(lengkapi)',
      lingkungan: val('lingkungan')||'(lengkapi)', digital: val('digital')||'(lengkapi)', pertemuan: val('pertemuan')||'....', tanggal: val('tanggal')||'',
      awal: val('awal')||'(lengkapi)', memahami: val('memahami')||'(lengkapi)', mengaplikasi: val('mengaplikasi')||'(lengkapi)', merefleksi: val('merefleksi')||'(lengkapi)', penutup: val('penutup')||'(lengkapi)',
      asesmenAwal: val('asesmenAwal')||'(lengkapi)', asesmenProses: val('asesmenProses')||'(lengkapi)', asesmenAkhir: val('asesmenAkhir')||'(lengkapi)',
      lokasi: val('lokasi')||'................', tglDoc: val('tglDoc')||'', kepsek: val('kepsek')||'(...........................)', nipKepsek: val('nipKepsek')||'....................'
    };
    const tanggalStr = d.tanggal ? ` — ${new Date(d.tanggal).toLocaleDateString('id-ID',{day:'2-digit',month:'long',year:'numeric'})}` : '';
    const tglDocStr  = d.tglDoc  ? new Date(d.tglDoc).toLocaleDateString('id-ID',{day:'2-digit',month:'long',year:'numeric'}) : 'tgl. bulan, tahun';
    let html = document.getElementById('tpl').innerHTML;
    Object.entries(d).forEach(([k,v]) => html = html.replaceAll(`{{${k}}}`, v));
    html = html.replaceAll('{{tanggalStr}}', tanggalStr).replaceAll('{{tglDocStr}}', tglDocStr);
    document.getElementById('output').innerHTML = html;
  }
  function copyOut(){
    const el = document.createElement('textarea');
    el.value = document.getElementById('output').innerText.trim();
    document.body.appendChild(el); el.select(); document.execCommand('copy'); document.body.removeChild(el);
    alert('Tersalin! Tempel di Word jika ingin lanjut format.');
  }
</script>
</body>
</html>
